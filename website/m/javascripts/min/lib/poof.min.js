/**
 * JavaScript Programmer's Object Oriented Framework
 * https://github.com/maciejzasada/poof.js
 *
 * @author Maciej Zasada / http://www.maciejzasada.com / http://www.unit9.com/reel?filter-staff-member=maciej-zasada
 * @version 0.1 (Alpha)
 * @date 10/01/2013
 * @copyright Maciej Zasada
 * @license Released under the MIT license
 *//*global console */(function(e,t){function p(t,r){if(n.debug){if(r)throw new Error(d("ERROR")+t);e.console.warn(d("ERROR"),t)}}function d(e){return"[POOF] ["+e+"] "}function v(t){if(a.getClassByName(t.className)===null){p("could not instantiate main class "+t.packageName+"."+t.className);return}var n=a.getClassByName(t.className);e.main=n._classInfo.type==="singleton"?n.getInstance():new n}function m(){var e=document.getElementsByTagName("script");for(var t=0;t<e.length;++t)if(e[t].hasAttribute("main")){e[t].hasAttribute("root")&&(n.importRoot=e[t].getAttribute("root"));e[t].hasAttribute("suffix")&&(n.importSuffix=e[t].getAttribute("suffix"));e[t].hasAttribute("concatenated")&&(n.concatenated=e[t].getAttribute("concatenated"));e[t].hasAttribute("debug")&&(n.debug=e[t].getAttribute("debug")==="true");r.applyAll();h(e[t].getAttribute("main")).execute(v)}}var n=n||{VERSION:0,REVISION:1,"undefined":t,debug:!1,useRuntimeCache:!0,importRoot:"javascripts/min",importSuffix:".min.js",concatenated:!1,loadCondition:null,synchronousPackageInitialisation:!0,retainContext:function(e,n){return function(){return n===t?null:n.apply(e,arguments)}},suppressUnused:function(){return}},r={arrayIndexOf:{apply:function(){Array.prototype.indexOf||(Array.prototype.indexOf=function(e){"use strict";console.log("custom");if(this==null)throw new TypeError;var t=Object(this),n=t.length>>>0;if(n===0)return-1;var r=0;if(arguments.length>1){r=Number(arguments[1]);r!=r?r=0:r!=0&&r!=Infinity&&r!=-Infinity&&(r=(r>0||-1)*Math.floor(Math.abs(r)))}if(r>=n)return-1;var i=r>=0?r:Math.max(n-Math.abs(r),0);for(;i<n;i++)if(i in t&&t[i]===e)return i;return-1})}},console:{apply:function(){e.console=n.debug&&console?console:function(){var e={},t=function(){},n=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],r=n.length;while(--r>-1)e[n[r]]=t;return e}()}},applyAll:function(){this.arrayIndexOf.apply();this.console.apply()}},i={classMethodsCache:{},packageMethodsCache:{},doesMethodBelongToClass:function(e,r){var s=i.classMethodsCache;if(n.useRuntimeCache){if(r._classInfo.id in s&&e in s[r._classInfo.id])return s[r._classInfo.id][e];r._classInfo.id in s||(s[r._classInfo.id]={});e in s[r._classInfo.id]||(s[r._classInfo.id][e]=!0)}if(e===t||r===t||e===null||r===null){n.useRuntimeCache&&(s[r._classInfo.id][e]=!1);return!1}var o=Object.getOwnPropertyNames(r),u;for(u=0;u<o.length;++u)if(r[o[u]]===e)return!0;o=Object.getOwnPropertyNames(r.prototype);for(u=0;u<o.length;++u)if(r.prototype[o[u]]===e)return!0;n.useRuntimeCache&&(s[r._classInfo.id][e]=!1);return!1},isMethodInternalOfPackage:function(e,t){}},s={scopeClass:{field:{_public_static:function(e,t,r){n.suppressUnused(e,r);return t},_internal_static:function(e,t,r){n.suppressUnused(e,r);return t},_private_static:function(e,t,r){n.suppressUnused(e,r);return t}},method:{_public_static:function(e,t,r){n.suppressUnused(e,r);return t},_internal_static:function(e,t,r){n.suppressUnused(e,r);return t},_private_static:function(e,t,r){n.suppressUnused(r);var s=function(){var n=this,r=s.caller;if(i.doesMethodBelongToClass(r,n))return t.apply(this,arguments);p("illegal attempt to call a private static method '"+e+"' on '"+n._classInfo.name+"' from outside the class");return null};return s}},classType:{normal:function(e){n.suppressUnused(e);return},"abstract":function(e){n.suppressUnused(e);return},singleton:function(e){e.getInstance=function(){return a.getSingletonInstanceOfClass(e)}}}},scopeInstance:{constructor:{normal:function(e,t,r){n.suppressUnused(r);var i=function(){this._instanceInfo={id:a.getNextClassInstanceId(this._class)};t.apply(this,arguments)};return i},"abstract":function(e,t,r){n.suppressUnused(t,r);var i=function(){p("illegal attempt to instantiate an abstract class "+this._class+". Abstract classes can only be extended.",!0)};return i},singleton:function(e,t,r){n.suppressUnused(r);var i=function(){if(a.singletonConstructor){t=s.scopeInstance.constructor.normal(e,t);t.apply(this,arguments)}else p("illegal attempt to directly instantiate a singleton class "+this._class+". Please use "+e+".getInstance() instead.",!0)};return i},override:function(e,t,r){n.suppressUnused(e);var i=function(){this._super=t;r.apply(this,arguments)};return i}},field:{_public:function(e,t,r){n.suppressUnused(e,r);return t},_protected:function(e,t,r){n.suppressUnused(e,r);return t},_internal:function(e,t,r){n.suppressUnused(e,r);return t},_private:function(e,t,r){n.suppressUnused(e,r);return t},_public_final:function(e,t,r){n.suppressUnused(e,r);return t},_protected_final:function(e,t,r){n.suppressUnused(e,r);return t},_internal_final:function(e,t,r){n.suppressUnused(e,r);return t}},method:{_public:function(e,t,n){return a.getFunctionWithArgumentsCount(function(){this._this=n;return t.apply(this,arguments)},a.getNumFunctionArguments(t))},_protected:function(e,t,r){n.suppressUnused(r);var i=s.scopeInstance.method._public(e,t);return i},_internal:function(e,t,r){n.suppressUnused(r);var i=s.scopeInstance.method._public(e,t);return i},_private:function(e,t,r){n.suppressUnused(r);var o=s.scopeInstance.method._public(e,t),u=function(){var t=this._class,n=u.caller;if(i.doesMethodBelongToClass(n,t))return o.apply(this,arguments);p("illegal attempt to call a private method '"+e+"' on "+this.toString()+" from outside the class");return null};return u},transcribe:function(e,t,r){n.suppressUnused(e,r);return t},override:function(e,t,n){return a.getFunctionWithArgumentsCount(function(){this._super=t;return n.apply(this,arguments)},a.getNumFunctionArguments(n))}}}},o={declarationFields:["scope","extendable","type","name","extend","implement"],declarationFieldsTypeConstraints:{scope:["string"],extendable:["string"],type:["string","object"],name:["string"],extend:["string","object"],implement:["string","object"]},definitionFields:{scope:["public","internal"],extendable:["dynamic","final"],type:["abstract","singleton"],extend:["extends"],implement:["implements"],scopeClass:["_public_static","_internal_static","_private_static","_public_static_readonly","_internal_static_readonly","_private_static_readonly"],scopeInstance:["_public","_protected","_internal","_private","_public_final","_protected_final","_internal_final","_public_readonly","_protected_readonly","_internal_readonly","_private_readonly"]},scopingClass:s,scopeTargetHolders:{_public_static:"",_internal_static:"",_private_static:"",_public_static_readonly:"",_internal_static_readonly:"",_private_static_readonly:"",_public:"",_protected:"",_internal:"",_private:"",_public_final:"",_internal_final:"",_protected_final:"",_public_readonly:"",_internal_readonly:"",_protected_readonly:"",_private_readonly:""},extensionDisabled:["_class","_handlers","constructor","toString"],inheritScope:["_public","_protected","_internal"],inheritConditions:{_public:"inheritConditionPublic",_protected:"inheritConditionPublic",_internal:"inheritConditionInternal"},constructorScope:"_public",declarationSeparatorRegexp:new RegExp("[ ,]")},u=function(){this._handlers={};this.toString=function(){return"[Object "+this._class._classInfo.qualifiedName+" (@"+this._instanceInfo.id+")]"};this.log=function(){console.log(this.toString(),arguments)};this.on=function(e,t){e in this._handlers||(this._handlers[e]=[]);this._handlers[e].push(t);return t};this.off=function(e,t){var n,r=Object.getOwnPropertyNames(this._handlers);if(typeof t=="function")for(n=0;n<r.length;++n)r[n].indexOf(e)!==-1&&this._handlers[r[n]].splice(this._handlers[r[n]].indexOf(t),1);else for(n=0;n<r.length;++n)r[n].indexOf(e)!==-1&&(this._handlers[r[n]]=[])};this.dispatch=function(e,t){var n={_propagationStopped:!1,target:this,type:e,data:t,preventDefault:function(){},stopPropagation:function(){n._propagationStopped=!0}},r=Object.getOwnPropertyNames(this._handlers);for(var i=0;i<r.length;++i)if(r[i].indexOf(e)!==-1)for(var s=0;s<this._handlers[r[i]].length;++s)if(typeof this._handlers[r[i]][s]=="function"){this._handlers[r[i]][s](n);if(n._propagationStopped)return}}},a={classId:0,classInstanceId:{},loadedClasses:[],expectedClasses:[],classReadyListeners:{},singletonInstances:{},singletonConstructor:!1,packagesQueue:[],packageCreationInProgress:!1,delayedImportTimeout:1,queuePackageCreation:function(e){a.packagesQueue.push(e)},createNextPackage:function(){if(a.packageCreationInProgress&&n.synchronousPackageInitialisation)return;if(a.packagesQueue.length!==0){a.packageCreationInProgress=!0;a.packagesQueue.shift()()}},onPackageCreationComplete:function(){a.packageCreationInProgress=!1;a.createNextPackage()},parseDeclaration:function(e){var n=null;e===t||e===null?n=null:typeof e=="string"&&e.length!==0?n=a.parseStringDeclaration(e):typeof e=="object"&&e!==null&&(n=a.parseObjectDeclaration(e));return n},parseStringDeclaration:function(e){var t={};for(var n=0;n<o.declarationFields.length;++n)t[o.declarationFields[n]]=null;var r=e.split(" "),i=0;if(i<r.length&&o.definitionFields.scope.indexOf(r[i])!==-1){t.scope=r[i];i++}else t.scope="_public";if(i<r.length&&o.definitionFields.extendable.indexOf(r[i])!==-1){t.extendable=r[i];i++}else t.extendable="dynamic";if(i<r.length&&o.definitionFields.type.indexOf(r[i])!==-1){t.type=r[i];i++}if(i<r.length){t.name=r[i];i++}if(i<r.length-1&&o.definitionFields.extend.indexOf(r[i])!==-1){t.extend=r[i+1];i+=2}if(i<r.length-1&&o.definitionFields.implement.indexOf(r[i])!==-1){t.implement=[];for(n=i+1;n<r.length;++n)t.implement.push(r[n].replace(",",""))}return t},parseObjectDeclaration:function(e){var n={};for(var r=0;r<o.declarationFields.length;++r){n[o.declarationFields[r]]=e[o.declarationFields[r]]===t?null:e[o.declarationFields[r]];if(!(o.declarationFields[r]in o.declarationFieldsTypeConstraints)||o.declarationFieldsTypeConstraints[o.declarationFields[r]].indexOf(typeof n[o.declarationFields[r]])===-1)n[o.declarationFields[r]]=null}return n},parseDefinition:function(e){var n={};for(var r=0;r<o.definitionFields.scopeClass.length;++r)n[o.definitionFields.scopeClass[r]]=e[o.definitionFields.scopeClass[r]]===t?{}:e[o.definitionFields.scopeClass[r]];for(r=0;r<o.definitionFields.scopeInstance.length;++r)n[o.definitionFields.scopeInstance[r]]=e[o.definitionFields.scopeInstance[r]]===t?{}:e[o.definitionFields.scopeInstance[r]];return n},getFunctionWithArgumentsCount:function(e,t){var r;t===0?r=function(){return e.apply(this,arguments)}:t===1?r=function(t){n.suppressUnused(t);return e.apply(this,arguments)}:t===2?r=function(t,r){n.suppressUnused(t,r);return e.apply(this,arguments)}:t===3?r=function(t,r,i){n.suppressUnused(t,r,i);return e.apply(this,arguments)}:t===4?r=function(t,r,i,s){n.suppressUnused(t,r,i,s);return e.apply(this,arguments)}:t===5?r=function(t,r,i,s,o){n.suppressUnused(t,r,i,s,o);return e.apply(this,arguments)}:t===6?r=function(t,r,i,s,o,u){n.suppressUnused(t,r,i,s,o,u);return e.apply(this,arguments)}:t===7?r=function(t,r,i,s,o,u,a){n.suppressUnused(t,r,i,s,o,u,a);return e.apply(this,arguments)}:t===8?r=function(t,r,i,s,o,u,a,f){n.suppressUnused(t,r,i,s,o,u,a,f);return e.apply(this,arguments)}:t===9?r=function(t,r,i,s,o,u,a,f,l){n.suppressUnused(t,r,i,s,o,u,a,f,l);return e.apply(this,arguments)}:t===10?r=function(t,r,i,s,o,u,a,f,l,c){n.suppressUnused(t,r,i,s,o,u,a,f,l,c);return e.apply(this,arguments)}:r=function(){e.apply(this,arguments)};return r},extend:function(e,t){var n=Object.getOwnPropertyNames(t);for(var r=0;r<n.length;++r)e[n[r]]=t[n[r]]},transcribeScope:function(e,n,r,i,s){var u,f,l=r==="scopeClass"?n._classInfo.scope:n._class._classInfo.scope,c=Object.getOwnPropertyNames(e);for(var h=0;h<c.length;++h)if(s===t||s.indexOf(c[h])===-1){u=o.scopeTargetHolders[i];typeof e[c[h]]=="function"?f=a.getScopedMethod:f=a.getScopedField;if(u==="")n[c[h]]=f(c[h],e[c[h]],r,i,n);else{u in n||(n[u]={});n[u][c[h]]=f(c[h],e[c[h]],r,i)}l[c[h]]=i}},typeClass:function(e,t){e._classInfo.type=t;s.scopeClass.classType[t](e)},getScopedConstructor:function(e,t,n){return s.scopeInstance.constructor[n](e,t)},getScopedField:function(e,t,n,r,i){return s[n].field[r](e,t,i)},getScopedMethod:function(e,t,n,r,i){return s[n].method[r](e,t,i)},getClassNameFromQualifiedName:function(e){return e.substring(e.lastIndexOf(".")+1,e.length)},getClassByName:function(n,r){var i;if(n in e){if(a.isArray(e[n])&&r!==t){var s=[];for(i=0;i<r.length;++i)r[i]._importInfo.className===n&&s.push(r[i]._importInfo.packageName+"."+r[i]._importInfo.className);return s.length===1?a.getClassByName(s[0]):a.getClassByName(n)}return e[n]!==t&&"_classInfo"in e[n]?e[n]:null}if(n.indexOf(".")!==-1){var o=n.split("."),u=e.Package;for(i=0;i<o.length-1;++i){if(!(o[i]in u))return null;u=u[o[i]]}var f=o[o.length-1];if(!(f in e))return null;if("_classesByName"in u&&f in u._classesByName)return u._classesByName[f]}return null},getClassFileUrlFromQualifiedName:function(e){e.indexOf("default.")===0&&(e=e.replace("default.",""));var t=e.replace(".","/");while(t.indexOf(".")!==-1)t=t.replace(".","/");return n.importRoot+t+n.importSuffix},getNextClassInstanceId:function(e){return e in a.classInstanceId?a.classInstanceId[e]++:0},getSingletonInstanceOfClass:function(e){if(!(e in a.singletonInstances)){a.singletonConstructor=!0;a.singletonInstances[e]=new e;a.singletonConstructor=!1}return a.singletonInstances[e]},isArray:function(e){return Object.prototype.toString.call(e)==="[object Array]"},loadBatch:function(e,n){if(e===t||e.length===0){n();return}var r=e.length,i=function(){--r===0?n():e[e.length-r]!==t&&e[e.length-r].execute(i)};e[0].execute(i)},applyInheritance:function(e,n,r){if(n===null)return;var i=a.getClassByName(n,r);if(i&&i._classInfo.extendable==="final"){p("cannot extend final class "+i+". Only dynamic classes can be extended.");return}if(a.isArray(i)){p("base class name "+n+" in definition of "+e+" is ambiguous. Possible matches are "+i+". Please provide full package name.");return}if(i===null){p("base class "+n+" in definition of "+e+" could not be found. Please make sure you import it with the Import() statement.");return}var u=Object.getOwnPropertyNames(i.prototype),f;for(var l=0;l<u.length;++l){f=u[l];if(o.extensionDisabled.indexOf(f)===-1){var c=f in i._classInfo.scope?i._classInfo.scope[f]:"_public";if(e.prototype[f]===t)o.inheritScope.indexOf(c)!==-1&&a[o.inheritConditions[c]](e,i)&&(typeof i.prototype[f]=="function"?e.prototype[f]=s.scopeInstance.method.transcribe(f,i.prototype[f],e.prototype):e.prototype[f]=i.prototype[f]);else if(typeof i.prototype[f]=="function")if(typeof e.prototype[f]=="function"){var h=f in e._classInfo.scope?e._classInfo.scope[f]:"_public";o.inheritScope.indexOf(c)!==-1&&a[o.inheritConditions[c]](e,i)?c===h?a.getNumFunctionArguments(i.prototype[f])===a.getNumFunctionArguments(e.prototype[f])?e.prototype[f]=s.scopeInstance.method.override(f,i.prototype[f],e.prototype[f]):p("incompatible override of function '"+f+"' originally defined in "+i+" by class "+e+". Functions have different arguments count."):p("incompatible override of function '"+f+"' originally defined in "+i+" by class "+e+". Cannot change function scope from "+c+" to "+h+"."):p("incompatible override of function '"+f+"' originally defined in "+i+" by class "+e+". Functions of scope '"+c+"' are not overridable.")}else p("illegal attempt to override a function '"+f+"' originally defined in "+i+" by a variable of the same name in class "+e+". Functions can only be overridden by other functions.");else p("illegal attempt to override a variable '"+f+"' originally defined in "+i+" by class "+e+". Variables cannot be overridden. Please set their values in class constructor instead.")}}e.prototype.constructor=s.scopeInstance.constructor.override(e._classInfo.name,i.prototype.constructor,e.prototype.constructor)},inheritConditionPublic:function(e,t){n.suppressUnused(e,t);return!0},inheritConditionProtected:function(e,t){n.suppressUnused(e,t);return!0},inheritConditionInternal:function(e,t){n.suppressUnused(e,t);return!0},registerClass:function(t,r,i){if(!n.concatenated&&a.expectedClasses.indexOf(t+"."+r)===-1){p("package "+t+" or class name "+r+" do not match file's physical location");return}a.expectedClasses.splice(a.expectedClasses.indexOf(t+"."+r),1);a.classInstanceId[i]=0;var s=function(){if(i._classInfo.qualifiedName in a.classReadyListeners)for(var e=0;e<a.classReadyListeners[i._classInfo.qualifiedName].length;++e)a.classReadyListeners[i._classInfo.qualifiedName][e]()};if(a.getClassByName(t+"."+r)!==null){if(a.isArray(e[r])){for(var o=0;o<e[r].length;++o)if(e[r][o]._classInfo.qualifiedName===t+"."+r){e[r][o]=i;break}}else e[r]=i;s();return}a.getClassByName(r)!==null&&(a.isArray(e[r])||"_classInfo"in e[r]&&e[r]._classInfo.qualifiedName!==i._classInfo.qualifiedName&&(e[r]=[e[r]]));a.isArray(e[r])?e[r].push(i):e[r]=i;s()},getNumFunctionArguments:function(e){var t=e.toString(),n=t.substring(t.indexOf("(")+1,t.indexOf(")")),r=n.match(/,/),i=r?r.length+1:n===""?0:1;return i},onClassReady:function(e,t){e in a.classReadyListeners||(a.classReadyListeners[e]=[]);a.classReadyListeners[e].push(t)}},f=function(e,t){var r=[],i=[],s=[];e===""&&(e="default");for(var o=0;o<t.length;++o)t[o]&&("_loadInfo"in t[o]?r.push(t[o]):"_importInfo"in t[o]?i.push(t[o]):"_classInfo"in t[o]?s.push(t[o]):n.suppressUnused());var u=function(){var t=e.split("."),n=f,r=null,o,u;if(!("_classes"in n)){n._classes=[];n._classesByName={}}for(o=0,u=t.length;o<u;++o){if(!(t[o]in n)){var l=n===f?null:n;r=r===null?t[o]:r+"."+t[o];n[t[o]]={_parent:l,_name:r,_classes:[],_classesByName:{}}}n=n[t[o]]}for(o=0,u=s.length;o<u;++o){s[o]._classInfo.packageName=e;s[o]._classInfo.qualifiedName=e+"."+s[o]._classInfo.name;n._classes.push(s[o]);n._classesByName[s[o]._classInfo.name]=s[o];n[s[o]._classInfo.name]=s[o];a.applyInheritance(s[o],s[o]._classInfo.base,i);a.registerClass(s[o]._classInfo.packageName,s[o]._classInfo.name,s[o])}a.onPackageCreationComplete()},l=function(){a.loadBatch(i,u)},c=function(){a.loadBatch(r,l)};a.queuePackageCreation(c);a.createNextPackage()},l=function(n,r){var i=a.parseDeclaration(n);if(i===t||i===null){e.console.warn("Error declaring class",n);return null}i.type=i.type===null?"normal":i.type;var s=a.parseDefinition(r),f=i.name in s[o.constructorScope]?s[o.constructorScope][i.name]:function(){},l=function(){this._handlers={};this.constructor.apply(this,arguments)},c=a.getScopedConstructor(i.name,l,i.type);c.prototype=new u;c.prototype._class=c;c._classInfo={};c._classInfo.id=a.classId++;c._classInfo.name=i.name;c._classInfo.base=i.extend;c._classInfo.extendable=i.extendable;c._classInfo.scope={};a.typeClass(c,i.type);c.toString=function(){return"[Class "+c.prototype._class._classInfo.packageName+"."+c.prototype._class._classInfo.name+"]"};for(var h=0;h<o.definitionFields.scopeClass.length;++h)a.transcribeScope(s[o.definitionFields.scopeClass[h]],c,"scopeClass",o.definitionFields.scopeClass[h]);for(h=0;h<o.definitionFields.scopeInstance.length;++h)a.transcribeScope(s[o.definitionFields.scopeInstance[h]],c.prototype,"scopeInstance",o.definitionFields.scopeInstance[h],[i.name]);c.prototype.constructor=f;return c},c=function(r,i){if(typeof n.loadCondition=="function"&&!n.loadCondition())return;var s={_loadInfo:{url:r},execute:function(t){var n=document.getElementsByTagName("head")[0],i=document.createElement("script");i.type="text/javascript";i.src=r;var s=function(n){if(this.readyState&&this.readyState!=="loaded"&&this.readyState!=="complete")return;i.onload=i.onreadystatechange=null;e.setTimeout(function(){t(n)},1)};i.onload=i.onreadystatechange=s;n.insertBefore(i,n.firstChild)}};if(i===t&&i!==null)return s;s.execute(i)},h=function(e,r){e.indexOf(".")===-1&&(e="default."+e);var i={_importInfo:{className:a.getClassNameFromQualifiedName(e),packageName:e.indexOf(".")===-1?"":e.substring(0,e.lastIndexOf("."))},importPath:a.getClassFileUrlFromQualifiedName(e),execute:function(r){var i=this,s=function(){if(a.getClassByName(e)||a.expectedClasses.indexOf(e)!==-1){r(i._importInfo);return}console.log("-- [import] ",e);a.packageCreationInProgress=!1;a.synchronousPackageInitialisation=!1;typeof r=="function"&&(i.handler=r);if(a.loadedClasses.indexOf(i.importPath)===-1)if(a.getClassByName(e)===null){var s=document.getElementsByTagName("head")[0],o=document.createElement("script");o.type="text/javascript";o.src=a.getClassFileUrlFromQualifiedName(e);o.packageName=i._importInfo.packageName;o.className=i._importInfo.className;var u=i,f=function(e){n.suppressUnused(e);if(this.readyState&&this.readyState!=="loaded"&&this.readyState!=="complete")return;o.onload=o.onreadystatechange=null;a.getClassByName(u._importInfo.packageName+"."+u._importInfo.className)!==null?setTimeout(function(){u.handler(u._importInfo)},1):a.onClassReady(u._importInfo.packageName+"."+u._importInfo.className,function(){setTimeout(function(){u.handler(u._importInfo)},1)})};o.onload=o.onreadystatechange=f;a.expectedClasses.push(e);s.insertBefore(o,s.firstChild)}else i.handler!==t&&i.handler(i._importInfo);else i.handler(i._importInfo)};n.concatenated?setTimeout(s,a.delayedImportTimeout):s()}};if(r===t&&r!==null)return i;i.execute(r)};e.Poof=n;e.ClassUtils={getClassNameFromQualifiedName:a.getClassNameFromQualifiedName,getClassByName:a.getClassByName,importBatch:a.loadBatch};e.Package=f;e.Class=l;e.Import=h;e.Load=c;m()})(window);