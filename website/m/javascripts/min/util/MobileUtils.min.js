/*global Poof *//*global Package *//*global Load *//*global Import *//*global Class *//*global console */Package("util",[Class("public singleton MobileUtils",{_public_static:{ADDRESS_BAR_HEIGHT:60},_public:{preventElasticScrollingUp:!1,preventElasticScrollingDown:!1,touchStartPageY:null,MobileUtils:function(){this.bindEvents()},bindEvents:function(){$(window).bind("orientationchange",Poof.retainContext(this,this.onOrientationChange));$(window).bind("resize",Poof.retainContext(this,this.onResize));$(document).bind("touchstart",Poof.retainContext(this,this.onTouchStart));$(document).bind("touchmove",Poof.retainContext(this,this.onTouchMove))},hideAddressBar:function(){if(Detection.getInstance().iPhone&&Detection.getInstance().safari){$("#wrapper").height($(window).height()+MobileUtils.ADDRESS_BAR_HEIGHT);window.scrollTo(0,1)}else $("#wrapper").height($(window).height())},onOrientationChange:function(e){this.hideAddressBar()},onResize:function(e){this.hideAddressBar()},onTouchStart:function(e){this.touchStartPageY=e.originalEvent.touches?e.originalEvent.touches[0].pageY:e.originalEvent.pageY},onTouchMove:function(e){var t=e.originalEvent.touches?e.originalEvent.touches[0].pageY:e.originalEvent.pageY,n=t-this.touchStartPageY;(n<0&&this.preventElasticScrollingDown||n>0&&this.preventElasticScrollingUp)&&e.preventDefault();this.touchStartPageY=t}}})]);