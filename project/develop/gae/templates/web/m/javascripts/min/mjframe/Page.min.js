/*global Package *//*global Import *//*global Class *//*global LayoutAnimationSlideIn *//*global Copy *//*global View *//*global NavigationManager */Package("mjframe",[Import("mjframe.View"),Import("mjframe.NavigationManager"),Import("mjframe.animation.LayoutAnimationSlideIn"),Class("public abstract Page extends View",{_public_static:{DELAY_EXTRA_SHORT:0,DELAY_SHORT:0,DELAY_LONG:1e3},_public:{name:null,requestUrl:null,data:null,active:!1,deactivated:!1,pageInfo:null,showDelayForward:0,showDelayBackward:0,allowedOrientation:"portrait",urlChangeHandler:null,Page:function(){this.name=this._class._classInfo.name;this.animation=new LayoutAnimationSlideIn;window.main.on(Copy.EVENT_LOCALE_CHANGE,Poof.retainContext(this,this.onCopyLocaleChange))},activate:function(){this.active=!0},deactivate:function(){this.deactivated=!0;this.active=!1},init:function(e,t){e=null;t=null;this._super("page","page."+this._class._classInfo.name,this._class._classInfo.name)},show:function(e){var t=this,n=function(){t.deactivated=!1;t._super(e)},r=e===LayoutAnimation.DIRECTION_FORWARD?this.showDelayForward:this.showDelayBackward;r===0?n():setTimeout(n,r)},setShowDelay:function(e,t){typeof e=="undefined"&&(e=0);typeof t=="undefined"&&(t=0);this.showDelayForward=e;this.showDelayBackward=t},bindEvents:function(){this.urlChangeHandler=NavigationManager.getInstance().on(NavigationManager.EVENT_URL_CHANGE,Poof.retainContext(this,this.onUrlChange))},setRequestUrl:function(e){this.requestUrl=e},setPageData:function(e){this.data=e},destroy:function(){this._super()},onReady:function(){this.dispatch(View.EVENT_INIT)},onShow:function(){this._super();this.activate()},onCopyLocaleChange:function(e){e=null;window.console.log("locale change")},onMouseWheel:function(e){if(!this.active)return;e=window.event||e;var t=Math.max(-5,Math.min(5,e.wheelDelta||-e.detail));typeof this.onScroll=="function"&&this.onScroll(-t)},onUrlChange:function(e){NavigationManager.getInstance().off(NavigationManager.EVENT_URL_CHANGE,this.urlChangeHandler);this.deactivate()},onResize:function(e){$(".pixel-width").height($("body").width());$(".pixel-height").height($("body").height());console.log("pixel height",$("body").height())}}})]);